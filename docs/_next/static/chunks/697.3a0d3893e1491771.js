"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{8697:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});var r=o(5155),n=o(2115);o(6809),o(999);let l=e=>{let{markerUrl:t,modelUrl:l}=e,[a,s]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{await Promise.resolve().then(o.t.bind(o,6809,23)),await Promise.resolve().then(o.bind(o,999)),s(!0),console.log("A-Frame and MindAR initialized")})()},[]),(0,n.useEffect)(()=>{if(l)return fetch(l).then(e=>e.blob()).then(e=>{let t=URL.createObjectURL(e);c(t),console.log("Blob URL created:",t)}).catch(e=>{console.error("Error fetching the model:",e)}),()=>{i&&(URL.revokeObjectURL(i),console.log("Blob URL revoked"))}},[l]),(0,n.useEffect)(()=>{if(!a)return;let e=document.querySelector("a-scene"),t=()=>{console.log("MindAR is ready")},o=()=>{console.log("Target found"),requestAnimationFrame(()=>{d()})},r=()=>{console.log("Target lost")};return null!=e&&(e.addEventListener("arReady",t),e.addEventListener("targetFound",o),e.addEventListener("targetLost",r)),()=>{null!=e&&(e.removeEventListener("arReady",t),e.removeEventListener("targetFound",o),e.removeEventListener("targetLost",r))}},[a]);let d=()=>{console.log("Updating model"),[document.querySelector("#model0")].forEach((e,t)=>{let o=0===t;null!=e&&(e.setAttribute("visible",o?"true":"false"),console.log("Model ".concat(t," visibility: ").concat(o)))}),u();let e=document.getElementById("photo-frame-overlay");e&&(e.style.display="block")},u=()=>{document.querySelector("#model0");let e=0,t=1;!function o(){((e+=.001*t)>.2||e<-.2)&&(t*=-1),requestAnimationFrame(o)}()};return a&&i?(0,r.jsxs)("a-scene",{"mindar-image":"imageTargetSrc: ".concat(t,";"),"color-space":"sRGB",renderer:"colorManagement: true, physicallyCorrectLights","vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: false",children:[(0,r.jsx)("a-assets",{children:(0,r.jsx)("a-asset-item",{id:"model0",src:i})}),(0,r.jsx)("a-camera",{position:"0 0 0","look-controls":"enabled: false"}),(0,r.jsx)("a-entity",{"mindar-image-target":"targetIndex: 0",children:(0,r.jsx)("a-gltf-model",{id:"model0",rotation:"45 0 0",position:"0 0 0.1",scale:"3 3 3",src:"#model0",visible:"true"})})]}):(0,r.jsx)("div",{children:"Loading A-Frame or Model..."})}}}]);